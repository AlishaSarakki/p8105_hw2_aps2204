Homework 2
================
Alisha Sarakki

``` r
library(tidyverse)
```

    ## ── Attaching packages ───────────────────────────────────────── tidyverse 1.3.0 ──

    ## ✓ ggplot2 3.3.2     ✓ purrr   0.3.4
    ## ✓ tibble  3.0.3     ✓ dplyr   1.0.2
    ## ✓ tidyr   1.1.2     ✓ stringr 1.4.0
    ## ✓ readr   1.3.1     ✓ forcats 0.5.0

    ## ── Conflicts ──────────────────────────────────────────── tidyverse_conflicts() ──
    ## x dplyr::filter() masks stats::filter()
    ## x dplyr::lag()    masks stats::lag()

``` r
library(readxl)
library(dplyr)
```

## Problem 1

Read the Mr. Trash-Wheel dataset.

``` r
trashwheel_df = 
  read_xlsx(
    "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "Mr. Trash Wheel",
    range = cell_cols("A:N")) %>% 
  janitor::clean_names() %>% 
  drop_na(dumpster) %>% 
  mutate(
    sports_balls = round(sports_balls),
    sports_balls = as.integer(sports_balls)
  ) 
```

Read precipitation data\!

``` r
precip_2018 =
  read_excel(
    "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2018 Precipitation",
    skip = 1
  ) %>% 
  janitor::clean_names() %>% 
  drop_na(month) %>% 
  mutate(year = 2018) %>% 
  relocate(year)
```

``` r
precip_2017 =
  read_excel(
    "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2018 Precipitation",
    skip = 1
  ) %>% 
  janitor::clean_names() %>% 
  drop_na(month) %>% 
  mutate(year = 2017) %>% 
  relocate(year)
```

Now combine annual precipitation.

``` r
month_df = 
  tibble(
    month = 1:12,
    month_name = month.name
  )

precip_df =
  bind_rows(precip_2018, precip_2017)
  
left_join(precip_df, month_df, by = "month")
```

    ## # A tibble: 24 x 4
    ##     year month total month_name
    ##    <dbl> <dbl> <dbl> <chr>     
    ##  1  2018     1  0.94 January   
    ##  2  2018     2  4.8  February  
    ##  3  2018     3  2.69 March     
    ##  4  2018     4  4.69 April     
    ##  5  2018     5  9.27 May       
    ##  6  2018     6  4.77 June      
    ##  7  2018     7 10.2  July      
    ##  8  2018     8  6.45 August    
    ##  9  2018     9 10.5  September 
    ## 10  2018    10  2.12 October   
    ## # … with 14 more rows

This dataset contains information from the Mr. Trashwheel trash
collector in Baltimore, MD. As the trash enters the inner harbor, the
trashwheel collects that trash adn stores it in a dumpster. The dataset
contains information on year, month, trash collected, and specific types
of trash. There are a total of ‘r nrow(trashwheel\_df)’ rows in our
final dataset. Additional data sheets include month precipitation data.

## Problem 2

Import and clean NYC transit data

``` r
NYCTransit_data = 
  read_csv(file = "./data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv")
```

    ## Parsed with column specification:
    ## cols(
    ##   .default = col_character(),
    ##   `Station Latitude` = col_double(),
    ##   `Station Longitude` = col_double(),
    ##   Route8 = col_double(),
    ##   Route9 = col_double(),
    ##   Route10 = col_double(),
    ##   Route11 = col_double(),
    ##   ADA = col_logical(),
    ##   `Free Crossover` = col_logical(),
    ##   `Entrance Latitude` = col_double(),
    ##   `Entrance Longitude` = col_double()
    ## )

    ## See spec(...) for full column specifications.

``` r
  names(NYCTransit_data)
```

    ##  [1] "Division"           "Line"               "Station Name"      
    ##  [4] "Station Latitude"   "Station Longitude"  "Route1"            
    ##  [7] "Route2"             "Route3"             "Route4"            
    ## [10] "Route5"             "Route6"             "Route7"            
    ## [13] "Route8"             "Route9"             "Route10"           
    ## [16] "Route11"            "Entrance Type"      "Entry"             
    ## [19] "Exit Only"          "Vending"            "Staffing"          
    ## [22] "Staff Hours"        "ADA"                "ADA Notes"         
    ## [25] "Free Crossover"     "North South Street" "East West Street"  
    ## [28] "Corner"             "Entrance Latitude"  "Entrance Longitude"
    ## [31] "Station Location"   "Entrance Location"

``` r
  NYCTransit_data = janitor::clean_names(NYCTransit_data)
  names(NYCTransit_data)
```

    ##  [1] "division"           "line"               "station_name"      
    ##  [4] "station_latitude"   "station_longitude"  "route1"            
    ##  [7] "route2"             "route3"             "route4"            
    ## [10] "route5"             "route6"             "route7"            
    ## [13] "route8"             "route9"             "route10"           
    ## [16] "route11"            "entrance_type"      "entry"             
    ## [19] "exit_only"          "vending"            "staffing"          
    ## [22] "staff_hours"        "ada"                "ada_notes"         
    ## [25] "free_crossover"     "north_south_street" "east_west_street"  
    ## [28] "corner"             "entrance_latitude"  "entrance_longitude"
    ## [31] "station_location"   "entrance_location"

Specify which columns to keep

``` r
select(NYCTransit_data, line:entry, vending, ada)
```

    ## # A tibble: 1,868 x 19
    ##    line  station_name station_latitude station_longitu… route1 route2 route3
    ##    <chr> <chr>                   <dbl>            <dbl> <chr>  <chr>  <chr> 
    ##  1 4 Av… 25th St                  40.7            -74.0 R      <NA>   <NA>  
    ##  2 4 Av… 25th St                  40.7            -74.0 R      <NA>   <NA>  
    ##  3 4 Av… 36th St                  40.7            -74.0 N      R      <NA>  
    ##  4 4 Av… 36th St                  40.7            -74.0 N      R      <NA>  
    ##  5 4 Av… 36th St                  40.7            -74.0 N      R      <NA>  
    ##  6 4 Av… 45th St                  40.6            -74.0 R      <NA>   <NA>  
    ##  7 4 Av… 45th St                  40.6            -74.0 R      <NA>   <NA>  
    ##  8 4 Av… 45th St                  40.6            -74.0 R      <NA>   <NA>  
    ##  9 4 Av… 45th St                  40.6            -74.0 R      <NA>   <NA>  
    ## 10 4 Av… 53rd St                  40.6            -74.0 R      <NA>   <NA>  
    ## # … with 1,858 more rows, and 12 more variables: route4 <chr>, route5 <chr>,
    ## #   route6 <chr>, route7 <chr>, route8 <dbl>, route9 <dbl>, route10 <dbl>,
    ## #   route11 <dbl>, entrance_type <chr>, entry <chr>, vending <chr>, ada <lgl>

Character to Logical Expression Conversion

``` r
NYCTransit_data %>% 
  mutate(entry = recode(entry, YES = "TRUE", NO = "FALSE"))
```

    ## # A tibble: 1,868 x 32
    ##    division line  station_name station_latitude station_longitu… route1 route2
    ##    <chr>    <chr> <chr>                   <dbl>            <dbl> <chr>  <chr> 
    ##  1 BMT      4 Av… 25th St                  40.7            -74.0 R      <NA>  
    ##  2 BMT      4 Av… 25th St                  40.7            -74.0 R      <NA>  
    ##  3 BMT      4 Av… 36th St                  40.7            -74.0 N      R     
    ##  4 BMT      4 Av… 36th St                  40.7            -74.0 N      R     
    ##  5 BMT      4 Av… 36th St                  40.7            -74.0 N      R     
    ##  6 BMT      4 Av… 45th St                  40.6            -74.0 R      <NA>  
    ##  7 BMT      4 Av… 45th St                  40.6            -74.0 R      <NA>  
    ##  8 BMT      4 Av… 45th St                  40.6            -74.0 R      <NA>  
    ##  9 BMT      4 Av… 45th St                  40.6            -74.0 R      <NA>  
    ## 10 BMT      4 Av… 53rd St                  40.6            -74.0 R      <NA>  
    ## # … with 1,858 more rows, and 25 more variables: route3 <chr>, route4 <chr>,
    ## #   route5 <chr>, route6 <chr>, route7 <chr>, route8 <dbl>, route9 <dbl>,
    ## #   route10 <dbl>, route11 <dbl>, entrance_type <chr>, entry <chr>,
    ## #   exit_only <chr>, vending <chr>, staffing <chr>, staff_hours <chr>,
    ## #   ada <lgl>, ada_notes <chr>, free_crossover <lgl>, north_south_street <chr>,
    ## #   east_west_street <chr>, corner <chr>, entrance_latitude <dbl>,
    ## #   entrance_longitude <dbl>, station_location <chr>, entrance_location <chr>

This dataset describes information about each entrance and exit for all
subway stations in New York, including, broadly, detailed location of
both station and entrance/exit, station name, which routes they lie on,
descriptions of entrances (stairs/escalator/etc.), and ADA compliance.
Thus far, I have narrowed the scope of this data to include line,
latitude and longitude, station name, train routes, entrance type, and
whether the station is ADA compliant. I have also cleaned the names of
the dataset, and converted the entry expression of “YES/NO” to a logical
expression of “TRUE/FALSE”.The dimensions are ‘nrow(NYCTransit\_data)’ x
‘ncol(NYCTransit\_data)’.These data are not tidy.

``` r
nrow(NYCTransit_data)
```

    ## [1] 1868

``` r
ncol(NYCTransit_data)
```

    ## [1] 32

Distinct Stations

``` r
  distinct(NYCTransit_data, station_name, line)
```

    ## # A tibble: 465 x 2
    ##    line     station_name            
    ##    <chr>    <chr>                   
    ##  1 4 Avenue 25th St                 
    ##  2 4 Avenue 36th St                 
    ##  3 4 Avenue 45th St                 
    ##  4 4 Avenue 53rd St                 
    ##  5 4 Avenue 59th St                 
    ##  6 4 Avenue 77th St                 
    ##  7 4 Avenue 86th St                 
    ##  8 4 Avenue 95th St                 
    ##  9 4 Avenue 9th St                  
    ## 10 4 Avenue Atlantic Av-Barclays Ctr
    ## # … with 455 more rows

``` r
count(distinct(NYCTransit_data, station_name, line))
```

    ## # A tibble: 1 x 1
    ##       n
    ##   <int>
    ## 1   465

465 total distinct stations

ADA Compliant Stations

``` r
filter(NYCTransit_data, ada == TRUE) %>% 
distinct(line, station_name) %>%
count()
```

    ## # A tibble: 1 x 1
    ##       n
    ##   <int>
    ## 1    84

84 stations are ADA compliant.
